"use strict";!function(e){function i(){var i=e(".adress");0<i.length&&(e(document).on("click",".adress",function(){e(this).toggleClass("is-open"),e(".adress__list").slideToggle(300,"linear")}),i.hover(function(){},function(){e(this).removeClass("is-open"),e(".adress__list").slideUp(300,"linear")}))}function t(){var i=e(".sort-view__link");if(0<i.length){var t={0:"",1:"catalog-goriz",2:"catalog-tabl"},o="is-select",s=localStorage.getItem("vid_catalog_index");null!==s&&(e("body").addClass(t[s]),i.removeClass(o),e(i[s]).addClass(o)),e(document).on("click",".sort-view__link",function(){var s=e(this),n=s.index();i.removeClass(o),s.addClass(o),e.each(t,function(i,t){e("body").removeClass(t)}),e("body").addClass(t[n]),localStorage.setItem("vid_catalog_index",n)})}}function o(){0<e(".catalog-category").length&&e(document).on("click",".catalog-category__sub",function(){var i=e(this).parents(".catalog-category__item");i.toggleClass("is-open"),i.find(".deep-lev-1").slideToggle()})}function s(){var i=e("#filter-form-catalog");if(0<i.length){var t=!0;e(document).on("change",".filter-block__checkbox-input",function(){var o=e(this).parents(".filter-block__container"),s=0,l=[];e.each(o.find(".filter-block__checkbox-input"),function(){e(this).prop("checked")&&s++}),e.each(i.find(".filter-block__checkbox-input"),function(){e(this).prop("checked")&&l.push(e(this).next(".filter-block__checkbox-fufel").find(".filter-block__checkbox-name").text())}),s=0<s?"("+s+")":"",o.find(".filter-block__count").text(s);var r=i.attr("action")+"?";r+=i.serialize()+"&set_filter=1",t&&e.get(r,function(i){var t=e(i);e(".js-load-prod").empty().append(t.find(".catalog-product__item"));var o="<span class='fil-res'>Найдено ",s=1*t.find(".filter-block").attr("data-count");o+=s+" "+n(s,"товар","товара","товаров")+" по фильтрам:<span>",o+=" "+l.join(", "),o=0<l.length?o:"",e(".filter-itog__text").html(o)})}),e(document).on("click",".js-filter-res",function(){t=!1,e.each(i.find(".filter-block__checkbox-input"),function(){e(this).prop("checked")&&e(this).trigger("click")}),t=!0;var o=i.attr("action")+"?del_filter=1";e.get(o,function(i){var t=e(i);e(".js-load-prod").empty().append(t.find(".catalog-product__item")),e(".filter-itog__text").empty()})})}}function n(e,i,t,o){var e=Math.abs(e)%100,s=e%10;return 10<e&&20>e?o:1<s&&5>s?t:1==s?i:o}e(function(){i(),t(),o(),s()})}(jQuery);